<template>
  <div class="post">
    <!-- „É¶„Éº„Ç∂„ÉºÊÉÖÂ†± -->
    <div class="post-header">
      <img class="user-icon" :src="post.user.urlIcon" alt="User Icon" />
      <span class="user-name">{{ post.user.userName }}</span>
    </div>

    <!-- ÊäïÁ®øÂÜôÁúü -->
    <img class="post-image" :src="post.urlPhoto" alt="ÊäïÁ®øÁîªÂÉè" />

    <!-- „Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥ -->
    <div class="post-actions">
      <!-- „ÅÑ„ÅÑ„Å≠ -->
      <button @click="toggleLike" class="icon-button">
        <span :style="{ color: isLiked ? 'red' : '#aaa' }">‚ù§Ô∏è</span>
      </button>

      <!-- „Ç≥„É°„É≥„Éà -->
      <button @click="toggleComment" class="icon-button">
        üí¨
      </button>
    </div>

    <!-- „Ç≥„É°„É≥„ÉàÊ¨Ñ -->
    <CommentBox v-if="showComment" />
  </div>
</template>

<script setup>
import { ref } from 'vue'
import CommentBox from './CommentBox.vue'

// ‚ñº ‰ªÆ„ÅÆÊäïÁ®ø„Éá„Éº„ÇøÔºàÂÆüÈöõ„ÅØË¶™„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„Åã„Çâprops„ÅßÂèó„ÅëÂèñ„ÇãÊÉ≥ÂÆöÔºâ
const post = {
  id: 1,
  urlPhoto: 'https://placehold.jp/500x300.png',
  user: {
    id: 101,
    userName: 'yamada_taro',
    fullName: 'Â±±Áî∞ Â§™ÈÉé',
    urlIcon: 'https://placehold.jp/30x30.png',
  },
  content: '„Åä„ÅÑ„Åó„ÅÑ„É©„É≥„ÉÅÔºÅ',
}

// ‚ñº Áä∂ÊÖãÔºà„ÅÑ„ÅÑ„Å≠„Éª„Ç≥„É°„É≥„ÉàË°®Á§∫Ôºâ
const isLiked = ref(false)
const showComment = ref(false)

// ‚ñº Êìç‰ΩúÈñ¢Êï∞
const toggleLike = () => {
  isLiked.value = !isLiked.value
}

const toggleComment = () => {
  showComment.value = !showComment.value
}
</script>

<style scoped>
.post {
  border: 1px solid #ddd;
  border-radius: 8px;
  max-width: 500px;
  margin: 20px auto;
  background: white;
  padding: 12px;
}

.post-header {
  display: flex;
  align-items: center;
  margin-bottom: 8px;
}

.user-icon {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  margin-right: 8px;
}

.user-name {
  font-weight: bold;
}

.post-image {
  width: 100%;
  border-radius: 4px;
  margin-bottom: 8px;
}

.post-actions {
  display: flex;
  gap: 12px;
  padding: 0 8px;
}

.icon-button {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 20px;
}
</style>
